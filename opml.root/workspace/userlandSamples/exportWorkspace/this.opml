<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Fri, 02 Jun 2017 19:27:00 GMT -->
<opml version="2.0">
	<head>
		<title>workspace.userlandSamples.exportWorkspace</title>
		<dateCreated>Wed, 22 Dec 2010 14:01:43 GMT</dateCreated>
		<dateModified>Wed, 22 Dec 2010 14:22:29 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 2, 6, 8</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>182</windowTop>
		<windowLeft>401</windowLeft>
		<windowBottom>620</windowBottom>
		<windowRight>1136</windowRight>
		</head>
	<body>
		<outline text="Changes" isComment="true">
			<outline text="12/22/10; 10:01:47 AM by DW">
				<outline text="This script is a step on the path to making it easy to start with a fresh OPML installation. It exports all the parts of your workspace table. Bonus -- it also exports the sub-tables of your user table."/>
				</outline>
			</outline>
		<outline text="local (pc = file.getpathchar (), folder = frontier.pathstring + &quot;Workspace backup&quot; + pc)"/>
		<outline text="on saveobject (adr, folder)">
			<outline text="local (suffix = Frontier.getFileSuffix (typeOf (adr^), true))"/>
			<outline text="if suffix != &quot;&quot;">
				<outline text="suffix = &quot;.&quot; + suffix"/>
				</outline>
			<outline text="s = nameof (adr^)"/>
			<outline text="adrParent = parentOf (adr^)"/>
			<outline text="if adrParent != nil">
				<outline text="if (not table.inguestdatabase (adr)) or (adrparent != table.getrootaddress (adr))">
					<outline text="local (dottedname = nameOf (adrParent^) + '.' + s)"/>
					<outline text="if (sizeof (dottedname) + sizeof (suffix) + 1) &lt; 32">
						<outline text="s = dottedname"/>
						</outline>
					</outline>
				</outline>
			<outline text="local (f = folder + s + suffix)"/>
			<outline text="file.surefilepath (f)"/>
			<outline text="export.sendobject (adr, f)"/>
			<outline text="file.setmodified (f, timemodified (adr))"/>
			<outline text="file.setcreated (f, timecreated (adr))"/>
			</outline>
		<outline text="on savetable (adrtable, folder)">
			<outline text="local (adr)"/>
			<outline text="for adr in adrtable">
				<outline text="saveobject (adr, folder + nameof (adrtable^) + pc)"/>
				</outline>
			</outline>
		<outline text="savetable (@workspace, folder)"/>
		<outline text="savetable (@user, folder)"/>
		</body>
	</opml>
