<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Fri, 02 Jun 2017 18:16:53 GMT -->
<opml version="2.0">
	<head>
		<title>workspace.userlandSamples.checkS3Archive</title>
		<dateCreated>Thu, 21 Jun 2012 13:08:27 GMT</dateCreated>
		<dateModified>Thu, 21 Jun 2012 13:34:14 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 2, 3, 7, 8, 14, 16, 18, 20</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>240</windowTop>
		<windowLeft>820</windowLeft>
		<windowBottom>826</windowBottom>
		<windowRight>1754</windowRight>
		</head>
	<body>
		<outline text="on checkS3Archive ()">
			<outline text="Changes" isComment="true">
				<outline text="6/21/12; 9:08:30 AM by DW">
					<outline text="Compare a folder on the hard disk with a folder on S3. Report any files that are missing in S3."/>
					</outline>
				</outline>
			<outline text="local (folder = user.prefs.dropboxfolder + &quot;Public:&quot;, s3path = &quot;/dropbox.goodfood.com/bullman/&quot;)"/>
			<outline text="local (adroutline = @scratchpad.missingFiles, dir = right)"/>
			<outline text="bundle //set up outline">
				<outline text="if not defined (adroutline^)">
					<outline text="new (outlinetype, adroutline)"/>
					</outline>
				<outline text="target.set (adroutline)"/>
				<outline text="edit (adroutline)"/>
				<outline text="op.firstsummit ()"/>
				<outline text="op.insert (&quot;Files missing in \&quot;&quot; + s3path + &quot;\&quot; on &quot; + clock.now () + &quot;.&quot;, up)"/>
				</outline>
			<outline text="fileloop (f in folder, infinity)">
				<outline text="local (path = s3path + string.replaceall (string.delete (f, 1, sizeof (folder)), &quot;:&quot;, &quot;/&quot;))"/>
				<outline text="if file.filefrompath (f) == &quot;.DS_Store&quot;">
					<outline text="continue"/>
					</outline>
				<outline text="if not s3.objectexists (path)">
					<outline text="op.insert (path, dir); dir = down"/>
					</outline>
				</outline>
			</outline>
		<outline text="bundle //test code">
			<outline text="checkS3Archive ()"/>
			</outline>
		</body>
	</opml>
