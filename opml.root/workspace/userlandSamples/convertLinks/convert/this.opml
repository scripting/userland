<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Sat, 03 Jun 2017 03:26:03 GMT -->
<opml version="2.0">
	<head>
		<title>workspace.userlandSamples.convertLinks.convert</title>
		<dateCreated>Thu, 08 Aug 2013 15:54:36 GMT</dateCreated>
		<dateModified>Sat, 03 Jun 2017 03:26:03 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 2, 3, 11, 14, 24, 26</expansionState>
		<vertScrollState>3</vertScrollState>
		<windowTop>144</windowTop>
		<windowLeft>402</windowLeft>
		<windowBottom>754</windowBottom>
		<windowRight>1598</windowRight>
		</head>
	<body>
		<outline text="on convert ()">
			<outline text="Changes" isComment="true">
				<outline text="8/8/13; 11:54:42 AM by DW">
					<outline text="Created."/>
					</outline>
				</outline>
			<outline text="local (adrinput = @workspace.userlandSamples.convertLinks.inputOutline, linkbegin = &quot;&lt;a href=\&quot;&quot;, ix, url)"/>
			<outline text="local (adroutput = @workspace.userlandSamples.convertLinks.outputOutline)"/>
			<outline text="adroutput^ = adrinput^"/>
			<outline text="target.set (adroutput)"/>
			<outline text="op.firstsummit ()"/>
			<outline text="edit (adroutput)"/>
			<outline text="loop">
				<outline text="op.expand (1)"/>
				<outline text="s = op.getlinetext ()"/>
				<outline text="if s beginswith linkbegin">
					<outline text="local (atts)"/>
					<outline text="new (tabletype, @atts)"/>
					<outline text="s = string.delete (s, 1, sizeof (linkbegin))"/>
					<outline text="ix = string.patternmatch (&quot;\&quot;&quot;, s)"/>
					<outline text="url = string.mid (s, 1, ix - 1)"/>
					<outline text="atts.type = &quot;link&quot;"/>
					<outline text="atts.url = url"/>
					<outline text="op.attributes.addgroup (@atts)"/>
					<outline text="op.setlinetext (searchengine.stripmarkup (op.getlinetext ()))"/>
					</outline>
				<outline text="if not op.go (flatdown, 1)">
					<outline text="break"/>
					</outline>
				</outline>
			</outline>
		<outline text="bundle //test code">
			<outline text="convert ()"/>
			</outline>
		</body>
	</opml>
