<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1b19 on Sat, 03 Jun 2017 03:29:10 GMT -->
<opml version="2.0">
	<head>
		<title>workspace.userlandSamples.genMonthlyArchives.genOneMonthArchive</title>
		<dateCreated>Thu, 08 Aug 2013 17:03:45 GMT</dateCreated>
		<dateModified>Sat, 03 Jun 2017 03:29:10 GMT</dateModified>
		<ownerName>Dave Winer</ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 2, 3, 10, 12, 35</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>351</windowTop>
		<windowLeft>836</windowLeft>
		<windowBottom>1066</windowBottom>
		<windowRight>2161</windowRight>
		</head>
	<body>
		<outline text="on genOneMonthArchive (adrmonth)">
			<outline text="Changes" isComment="true">
				<outline text="8/8/13; 1:03:53 PM by DW">
					<outline text="Created."/>
					</outline>
				</outline>
			<outline text="local (rulestext = string (workspace.userlandSamples.genMonthlyArchives.rules), htmltext = &quot;&quot;, indentlevel = 0, maxstories = 25, xshell, adrshellbody)"/>
			<outline text="local (outlinetext, adr, t)"/>
			<outline text="new (tabletype, @t)"/>
			<outline text="xml.compile (op.outlinetoxml (adrmonth), @xshell)"/>
			<outline text="adrshellbody = xml.opml.getbodyaddress (@xshell)"/>
			<outline text="for adr in adrshellbody">
				<outline text="delete (@adr^.[&quot;/atts&quot;].type)"/>
				<outline text="try">
					<outline text="created = date (adr^.[&quot;/atts&quot;].created)"/>
					<outline text="adrsub = xml.addtable (adr, &quot;outline&quot;)"/>
					<outline text="xml.addattribute (adrsub, &quot;text&quot;, &quot;&lt;span class=\&quot;whenPosted\&quot;&gt;Posted: &quot; + string (created) + &quot;.&lt;/span&gt;&quot;)"/>
					</outline>
				</outline>
			<outline text="workspace.userlandSamples.genMonthlyArchives.struct = xshell"/>
			<outline text="t.outlinetext = op.render.viewoutline (&quot;&quot;, adrparent:adrshellbody, adrInitialRulesText: @rulestext)"/>
			<outline text="t.systemStyles = webApp.viewHeadIncludes (flBootstrap2:true)"/>
			<outline text="t.year = date.year ()"/>
			<outline text="t.now = clock.now ()"/>
			<outline text="t.generatorProgramName = frontier.getprogramname () + &quot;/&quot; + string.popfilefromaddress (this)"/>
			<outline text="t.machineName = config.myServerFarm.prefs.myName"/>
			<outline text="t.pleaseWaitMessage = opmleditor.viewslogan ()"/>
			<outline text="t.generatorProgramName = this"/>
			<outline text="t.metaDescription = &quot;Scripting News, the weblog started in 1997 that bootstrapped the blogging revolution.&quot;"/>
			<outline text=""/>
			<outline text="t.menutext = &quot;&quot;"/>
			<outline text="t.this = this"/>
			<outline text="t.ownername = &quot;Scripting News, Inc&quot;"/>
			<outline text="t.headline = &quot;Scripting News archive for &quot; + nameof (adrmonth^)"/>
			<outline text="t.title = t.headline"/>
			<outline text="htmltext = string.tablereplace (string.replaceall (string (workspace.userlandSamples.genMonthlyArchives.template), &quot;\r&quot;, &quot;\r\n&quot;), @t)"/>
			<outline text="s3.newobject (&quot;/scripting.com/threads/&quot; + string.innercasename (nameof (adrmonth^)) + &quot;.html&quot;, htmltext)"/>
			<outline text="webbrowser.displaytext (htmltext)" isComment="true"/>
			</outline>
		<outline text="bundle //test code">
			<outline text="local (adr)"/>
			<outline text="for adr in @workspace.userlandSamples.genMonthlyArchives.months">
				<outline text="workspace.userlandSamples.genMonthlyArchives.genOneMonthArchive (adr)"/>
				</outline>
			<outline text="export.sendobject (@workspace.userlandSamples.genMonthlyArchives, &quot;ohio:getMonthlyArchives.fttb&quot;)"/>
			<outline text="s3.newobject (&quot;/scripting.com/threads/getMonthlyArchives.fttb&quot;, file.readwholefile (&quot;ohio:getMonthlyArchives.fttb&quot;))"/>
			<outline text=""/>
			</outline>
		</body>
	</opml>
